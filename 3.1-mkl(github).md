# onemkl form github for NVIDIA OR AMD GPUs

## cmake command line from documentation

````bash
# cmake .. [-DCMAKE_CXX_COMPILER=<path_to_clang++_compiler>/bin/clang++]  # required only if clang++ is not found in environment variable PATH
#          [-DCMAKE_C_COMPILER=<path_to_clang_compiler>/bin/clang]        # required only if clang is not found in environment variable PATH
#          -DENABLE_CUBLAS_BACKEND=True  \
#          -DENABLE_MKLCPU_BACKEND=False                                  # disable Intel MKL CPU backend
#          -DENABLE_MKLGPU_BACKEND=False                                  # disable Intel MKL GPU backend
#          [-DREF_BLAS_ROOT=<reference_blas_install_prefix>]              # required only for testing
# cmake --build .
# ctest
# cmake --install . --prefix <path_to_install_dir>
````

## cmake(without test) && make -j install

- test need [netlib package](https://github.com/Reference-LAPACK/lapack-release)
- build doc need [sphinx](installed via pip3)

````bash
trash-empty && trash -rf ./* && \
cmake   -DCMAKE_CXX_COMPILER=clang++ \
-DCMAKE_C_COMPILER=clang \
-DENABLE_CUBLAS_BACKEND=ON \
-DENABLE_CUSOLVER_BACKEND=ON \
-DENABLE_CURAND_BACKEND=ON \
-DENABLE_MKLCPU_BACKEND=OFF \
-DENABLE_MKLGPU_BACKEND=OFF \
-DBUILD_FUNCTIONAL_TESTS=OFF \
-DCMAKE_BUILD_TYPE=Release \
-DBUILD_EXAMPLES=ON \
-DBUILD_DOC=OFF \
-DCMAKE_INSTALL_PREFIX=/home/ljl/Apps/onemkl/ \
..
#-DONEMKL_SYCL_IMPLEMENTATION=clang++ \
cmake --build .
ctest
cmake --install . --prefix <path_to_install_dir>
````
